
/// Администратор. Бизнес
\\ https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=42

Вся работа по управлению валютами ведется в модуле `Валюты`. Этот модуль необходим для работы модулей Торговый каталог, Интернет-магазин, используется для отчетов в CRM, необходим при работе с финансовыми параметрами в рекламных кампаниях и событиях в Веб-аналитике. Он позволяет:
	- управлять списком валют;
	- задавать формат представления цен в той или иной валюте;
	- устанавливать курсы валют (с возможностью загрузки курса с сайта Центрального Банка РФ).
Настройка модуля Валюты производится на странице Настройки > Настройки продукта > Настройки модулей > Валюты. Форма позволяет установить базовую валюту и уровень доступа к модулю. Настройка доступа проводится типовым для Bitrix Framework способом.
Перечень возможных кодов денежных единиц приведен в международном стандарте `ISO 4217`. Полный перечень смотрите на сайте iso.org.

Главная составляющая интернет-магазина на CMS «1С-Битрикс: Управление сайтом» - каталог товаров. Его легко организовать, если использовать инструменты модуля `Торговый каталог`. Начиная с версии 14.0.0 в товарах торговых каталогов выделяются следующие типы: простой товар, товар с торговыми предложениями, набор, комплект. С версии 22.600.0 доступно создание услуг.

`Количественный учет` - режим работы с товарами в интернет-магазине, позволяющий изменять их количество как вручную, так и автоматически после оформления заказов покупателями. `Складской учёт` - режим работы с товарами в интернет-магазине, позволяющий управлять складами, вести учёт поступлений и списаний товара, реализовывать оборот товара на складах с помощью документов.

В `Товарном маркетинге` главные роли играют три сущности:
	- Скидка - величина, на которую снижается продажная цена товара, реализуемого покупателю. Скидки могут применяться как к одному товару торгового каталога, так и ко всем товарам каталога или отдельного раздела. Скидки для товаров действуют и на их торговые предложения.
	- Предустановленный список маркетинговых акций — список специальных пресетов (сохраненных наборов) скидок, которые позволяют достаточно быстро и просто настроить скидки для вашего магазина.
	- Правила работы с корзиной — инструмент, позволяющий задавать многовариативность условий применения скидок (наценок) к товарам в корзине и доставке. Скидки, заданные на товары, действуют и на их торговые предложения, а на комплекты товаров действуют как на единую сущность.

Для создания интернет-магазина предназначен модуль `Интернет-магазин`, позволяющий осуществлять продажу товаров и услуг с сайта. Вся работа с Интернет-магазином в «1С-Битрикс: Управление сайтом» в административной части ведется в разделе Магазин, за исключением настроек модуля.

`54-ФЗ` - федеральный закон, определяющий каким образом ваш бизнес должен осуществлять расчеты с покупателями.

~* В версии PHP 5.3.9 был добавлен параметр max_input_vars, значения по умолчанию которого не хватает для форм инфоблоков. Рекомендуемое значение этого параметра - не меньше 5000. Для установки этого значения необходимо обратиться к администратору хостинга.



/// Разработчик Bitrix Framework (Junior) (for now)
\\ https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43

`Bitrix Framework` - это созданная на основе PHP платформа для разработки веб-приложений. На этой платформе компанией «1C-Битрикс» созданы два популярных продукта: «1C-Битрикс: Управление сайтом», «Битрикс24 в коробке» и облачная версия "Битрикс24".
Что не рекомендуется делать
	- Не пишите прямые SQL-запросы к базе данных. Используйте документированное API продукта. Прямые SQL-запросы обходят встроенные механизмы безопасности и валидации. Это может привести к уязвимости системы и несогласованности данных.
	- Не добавляйте HTML-код в PHP-логику. Разделяйте логику и представление. HTML-код должен находиться в шаблонах, а не в PHP-файлах.
Защищайте файлы от прямого доступа. Добавьте следующий код в начало всех файлов, которые не должны выполняться напрямую:
	<?php if (!defined("B_PROLOG_INCLUDED") || B_PROLOG_INCLUDED !== true) {die();} ?>

`Техническое задание` - исходный документ на проектирование технического объекта. ТЗ устанавливает основное назначение разрабатываемого объекта, его технические и тактико-технические характеристики, показатели качества и технико-экономические требования, предписание по выполнению необходимых стадий создания документации (конструкторской, технологической, программной и т. д.) и её состав, а также специальные требования.

Необходимо заменить некоторые части верстки на `служебные директивы` Bitrix Framework для создания шаблона:
	- Заменить подключение стилей и, возможно, javascript файлов на директиву <?$APPLICATION->ShowHead()?>
	- Заменить прописанный явно заголовок страницы на <title><?$APPLICATION->ShowTitle()?></title>
	- Сразу после тэга <body> добавить <?$APPLICATION->ShowPanel();?>. Если этого не сделать, Панель управления не появится.
	- Перед всеми картинками добавить путь к ним <? SITE_TEMPLATE_PATH?>/images/
	- Заменить контент на специальный разделитель - #WORK_AREA#
В `шаблон сайта` входят:
	- каталог /components – предназначен для шаблонов компонентов;
	- каталог /images – предназначен для картинок шаблона (которые не зависят от просматриваемой страницы), копируется из верстки сайта;
	- каталог /include_areas – содержит включаемые области шаблона;
	- каталог /lang – содержит файлы языковых сообщений;
	- каталог /page_templates – для шаблонов страниц и редактируемых областей;
	- каталог /snippets – содержит сниппеты – маленькие фрагменты html-кода для ускорения работы контент-менеджера по созданию часто встречающихся блоков кода;
	- каталог /themes – тема оформления шаблона;
	- файл header.php – часть шаблона ДО контента;
	- файл footer.php – часть шаблона ПОСЛЕ контента;
	- файл description.php – название и описание шаблона;
	- файл .styles.php – описания стилей для визуального редактора страниц;
	- файл template_styles.css – стили шаблона (стили применяемые в самом шаблоне дизайна сайта);
	- файл styles.css – стили для контента и включаемых областей. Эти стили можно применять в визуальном редакторе.
Стили шаблона сайта подключаются последними - это крайняя возможность переопределить, например, стили стандартных компонентов. Иначе потребуется масштабная кастомизация шаблонов компонентов. Если есть необходимость подключить свои стили последними, то это можно сделать с помощью функции CMain::AddHeadString.
Для наглядного представления шаблона в списке может использоваться его скриншот. Скриншот размещается в папке соответствующего шаблона в файле с именем screen.gif (например, /bitrix/templates/books/screen.gif).
	* site template recommendations: https://dev.1c-bitrix.ru/learning/course/index.php?COURSE_ID=43&LESSON_ID=3234&LESSON_PATH=3913.2704.2880.3234

Содержимое `включаемых областей` хранится в отдельных PHP или HTML файлах. Такие файлы для страниц или разделов сохраняются с некоторым суффиксом. Например, в поставляемых файлах продукта в качестве обозначения включаемой области для страницы используется суффикс _inc (например, index_inc.php), а включаемая область для раздела сайта сохраняется в файле с именем sect и добавлением к нему суффикса (например, sect_inc.php). Файл с включаемой областью должен быть сохранен в той же директории, что и страница, для которой он был создан. Включаемая область для раздела - в папке этого раздела.

При создании шаблона сайта достаточно часто возникает задача ограничения `доступа` к тем или иным элементам.
	- if ($arItem["PERMISSION"] > "D"):
	- $USER->IsAuthorized()
	- $USER->IsAdmin()
	- in_array('5',$USER-> GetUserGroupArray())

`Языковой файл` - PHP скрипт, хранящий переводы языковых фраз на тот или иной язык. Данный скрипт состоит из массива $MESS, ключи которого - идентификаторы языковых фраз, а значения - переводы на соответствующий язык. Для каждого языка существует свой набор языковых файлов, хранящихся в подкаталогах /lang/ структуры файлов системы или модуля.

Таблицы стилей подключаются к шаблону сайта в области пролога с помощью функции `ShowCSS()`--выполняет подключение файла стилей из текущего шаблона сайта, а также всех дополнительных стилей определенных для данной страницы функцией SetAdditionalCSS().

Папка компонента может содержать следующие подпапки и файлы:
	- подпапку /lang, в которой расположены файлы языковых сообщений (переводов) компонента. В ней также могут размещаться папки помощи /help.
	- подпапку /templates, в которой расположены шаблоны вывода (отображения) компонента. Эта подпапка может отсутствовать, если у компонента нет шаблонов вывода.
	- файл component.php, который содержит логику (код) компонента. Задача этого файла - сформировать из полученных параметров ($arParams) массив $arResult, который впоследствии попадет в шаблон компонента. Этот файл должен присутствовать в папке компонента, если только логика компонента не размещена в файле class.php.
	- файл .description.php, который содержит название, описание компонента и его положение в дереве логического размещения (для редактора). Этот файл должен всегда присутствовать в папке компонента. Его отсутствие не скажется на работе компонента, но размещение компонента через визуальный редактор станет невозможным.
	- файл .parameters.php, который содержит описание входных параметров компонента для редактора. Если у компонента есть входные параметры, то этот файл должен присутствовать в папке компонента.
	- файл class.php для поддержки ООП-компонентов. В этом файле так же может размещаться логика (код) компонента.
	- файл script.js, может подключаться из шаблона, а может из кода компонента .
	- любые другие папки и файлы с ресурсами, необходимыми компоненту, например, папка /images.

Переменные, доступные в шаблоне компонента:
	- $templateFile – путь к шаблону относительно корня сайта, например /bitrix/components/bitrix/iblock.list/templates/.default/template.php).
	- $arResult – массив результатов работы компонента.
	- $arParams – массив входящих параметров компонента, может использоваться для учета заданных параметров при выводе шаблона (например, отображении детальных изображений или ссылок).
	- $arLangMessages – массив языковых сообщений (для php шаблонов не устанавливается).
	- $templateFolder – путь к папке с шаблоном от DOCUMENT_ROOT (например /bitrix/components/bitrix/iblock.list/templates/.default).
	- $parentTemplateFolder - путь относительно корня сайта к папке шаблона комплексного компонента, в составе которого подключается данный компонент (если компонент подключается самостоятельно, то эта переменная пуста).
	- $component – ссылка на текущий вызванный компонент (тип CBitrixComponent).
	- $this - ссылка на текущий шаблон (объект, описывающий шаблон, тип CBitrixComponentTemplate)
	- $templateName – имя шаблона (например: .dеfault)
	- $componentPath – путь к папке с компонентом от DOCUMENT_ROOT (напр. /bitrix/components/bitrix/iblock.list)
	- $templateData – массив для записи, обратите внимание, таким образом можно передать данные из template.php в файл component_epilog.php, причем эти данные попадают в кеш, т.к. файл component_epilog.php исполняется на каждом хите.
	- Кроме того внутри PHP шаблона объявлены глобальными переменные $APPLICATION, $USER, $DB.

Шаблон комплексного компонента содержит все те же папки, что и шаблон простого, и дополнительно к ним:
	- шаблоны простых компонентов, которые входят в состав комплексного. Эти шаблоны располагаются в папках вида /пространство_имен/название_простого_компонента/ относительно папки шаблона комплексного компонента.
	- простые компоненты, входящие в состав комплексного, подключаются на шаблонах страниц комплексного компонента.



/// Creating news component template

created `only_news_detail` template for news.detail.
created `only_news` template for news component. in files news.php and detail.php call respective news.list and news.detail components with template names set as only_news_list and only_news_detail respectively, in section.php call component news.list with only_news_list template.

created a catalogue `Раздельные Новости` / sectioned_news, where the sections of news and the news themselves were added

used component `catalog.section.list` at the top of the news page to display the sections of news



/// feedback from The Guy:
he said that the complex components should have their own set of templates for the simple components 

-> i moved the news.list template into only_news/bitrix/news.list/.default, same with the news.detail template. in news.php and datail,php and section.php i removed the names of templates from the includeComponent call.



____________________________________________

task received:	2025-12-24
task started:	2025-12-26
task finished:	2025-12-27
time elapsed:	6:00 + 5:00 = 11:00
